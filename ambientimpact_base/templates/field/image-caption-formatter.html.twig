{#
/**
 * @file
 * Theme implementation to display a formatted image field with a caption.
 *
 * This modifies the original by wrapping everything in a <figure> and replacing
 * the <blockquote> for a <figcaption>. Additionally, this is altered to use the
 * link() function so that a '#type' => 'link' is rendered, allowing hooks to
 * alter it.
 *
 * Available variables:
 * - image: A collection of image data.
 * - image_style: An optional image style.
 * - url: An optional URL the image can be linked to.
 * - caption : An optional image caption.
 *
 * @see template_preprocess_image_caption_formatter()
 *
 * @ingroup themeable
 */
#}
<figure>
  {% if url %}
    {{ link(image, url) }}
  {% else %}
    {{ image }}
  {% endif %}

  {% if caption %}
    <figcaption>{{ caption|raw }}</figcaption>
  {% endif %}
</figure>
